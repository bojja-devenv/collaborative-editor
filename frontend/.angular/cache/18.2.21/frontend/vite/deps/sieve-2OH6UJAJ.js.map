{
  "version": 3,
  "sources": ["../../../../../../node_modules/@codemirror/legacy-modes/mode/sieve.js"],
  "sourcesContent": ["function words(str) {\n  var obj = {},\n    words = str.split(\" \");\n  for (var i = 0; i < words.length; ++i) obj[words[i]] = true;\n  return obj;\n}\nvar keywords = words(\"if elsif else stop require\");\nvar atoms = words(\"true false not\");\nfunction tokenBase(stream, state) {\n  var ch = stream.next();\n  if (ch == \"/\" && stream.eat(\"*\")) {\n    state.tokenize = tokenCComment;\n    return tokenCComment(stream, state);\n  }\n  if (ch === '#') {\n    stream.skipToEnd();\n    return \"comment\";\n  }\n  if (ch == \"\\\"\") {\n    state.tokenize = tokenString(ch);\n    return state.tokenize(stream, state);\n  }\n  if (ch == \"(\") {\n    state._indent.push(\"(\");\n    // add virtual angel wings so that editor behaves...\n    // ...more sane incase of broken brackets\n    state._indent.push(\"{\");\n    return null;\n  }\n  if (ch === \"{\") {\n    state._indent.push(\"{\");\n    return null;\n  }\n  if (ch == \")\") {\n    state._indent.pop();\n    state._indent.pop();\n  }\n  if (ch === \"}\") {\n    state._indent.pop();\n    return null;\n  }\n  if (ch == \",\") return null;\n  if (ch == \";\") return null;\n  if (/[{}\\(\\),;]/.test(ch)) return null;\n\n  // 1*DIGIT \"K\" / \"M\" / \"G\"\n  if (/\\d/.test(ch)) {\n    stream.eatWhile(/[\\d]/);\n    stream.eat(/[KkMmGg]/);\n    return \"number\";\n  }\n\n  // \":\" (ALPHA / \"_\") *(ALPHA / DIGIT / \"_\")\n  if (ch == \":\") {\n    stream.eatWhile(/[a-zA-Z_]/);\n    stream.eatWhile(/[a-zA-Z0-9_]/);\n    return \"operator\";\n  }\n  stream.eatWhile(/\\w/);\n  var cur = stream.current();\n\n  // \"text:\" *(SP / HTAB) (hash-comment / CRLF)\n  // *(multiline-literal / multiline-dotstart)\n  // \".\" CRLF\n  if (cur == \"text\" && stream.eat(\":\")) {\n    state.tokenize = tokenMultiLineString;\n    return \"string\";\n  }\n  if (keywords.propertyIsEnumerable(cur)) return \"keyword\";\n  if (atoms.propertyIsEnumerable(cur)) return \"atom\";\n  return null;\n}\nfunction tokenMultiLineString(stream, state) {\n  state._multiLineString = true;\n  // the first line is special it may contain a comment\n  if (!stream.sol()) {\n    stream.eatSpace();\n    if (stream.peek() == \"#\") {\n      stream.skipToEnd();\n      return \"comment\";\n    }\n    stream.skipToEnd();\n    return \"string\";\n  }\n  if (stream.next() == \".\" && stream.eol()) {\n    state._multiLineString = false;\n    state.tokenize = tokenBase;\n  }\n  return \"string\";\n}\nfunction tokenCComment(stream, state) {\n  var maybeEnd = false,\n    ch;\n  while ((ch = stream.next()) != null) {\n    if (maybeEnd && ch == \"/\") {\n      state.tokenize = tokenBase;\n      break;\n    }\n    maybeEnd = ch == \"*\";\n  }\n  return \"comment\";\n}\nfunction tokenString(quote) {\n  return function (stream, state) {\n    var escaped = false,\n      ch;\n    while ((ch = stream.next()) != null) {\n      if (ch == quote && !escaped) break;\n      escaped = !escaped && ch == \"\\\\\";\n    }\n    if (!escaped) state.tokenize = tokenBase;\n    return \"string\";\n  };\n}\nexport const sieve = {\n  name: \"sieve\",\n  startState: function (base) {\n    return {\n      tokenize: tokenBase,\n      baseIndent: base || 0,\n      _indent: []\n    };\n  },\n  token: function (stream, state) {\n    if (stream.eatSpace()) return null;\n    return (state.tokenize || tokenBase)(stream, state);\n  },\n  indent: function (state, _textAfter, cx) {\n    var length = state._indent.length;\n    if (_textAfter && _textAfter[0] == \"}\") length--;\n    if (length < 0) length = 0;\n    return length * cx.unit;\n  },\n  languageData: {\n    indentOnInput: /^\\s*\\}$/\n  }\n};"],
  "mappings": "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",
  "names": ["words"]
}
