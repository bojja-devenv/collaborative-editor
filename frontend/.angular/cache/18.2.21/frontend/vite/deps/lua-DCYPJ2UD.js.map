{
  "version": 3,
  "sources": ["../../../../../../node_modules/@codemirror/legacy-modes/mode/lua.js"],
  "sourcesContent": ["function prefixRE(words) {\n  return new RegExp(\"^(?:\" + words.join(\"|\") + \")\", \"i\");\n}\nfunction wordRE(words) {\n  return new RegExp(\"^(?:\" + words.join(\"|\") + \")$\", \"i\");\n}\n\n// long list of standard functions from lua manual\nvar builtins = wordRE([\"_G\", \"_VERSION\", \"assert\", \"collectgarbage\", \"dofile\", \"error\", \"getfenv\", \"getmetatable\", \"ipairs\", \"load\", \"loadfile\", \"loadstring\", \"module\", \"next\", \"pairs\", \"pcall\", \"print\", \"rawequal\", \"rawget\", \"rawset\", \"require\", \"select\", \"setfenv\", \"setmetatable\", \"tonumber\", \"tostring\", \"type\", \"unpack\", \"xpcall\", \"coroutine.create\", \"coroutine.resume\", \"coroutine.running\", \"coroutine.status\", \"coroutine.wrap\", \"coroutine.yield\", \"debug.debug\", \"debug.getfenv\", \"debug.gethook\", \"debug.getinfo\", \"debug.getlocal\", \"debug.getmetatable\", \"debug.getregistry\", \"debug.getupvalue\", \"debug.setfenv\", \"debug.sethook\", \"debug.setlocal\", \"debug.setmetatable\", \"debug.setupvalue\", \"debug.traceback\", \"close\", \"flush\", \"lines\", \"read\", \"seek\", \"setvbuf\", \"write\", \"io.close\", \"io.flush\", \"io.input\", \"io.lines\", \"io.open\", \"io.output\", \"io.popen\", \"io.read\", \"io.stderr\", \"io.stdin\", \"io.stdout\", \"io.tmpfile\", \"io.type\", \"io.write\", \"math.abs\", \"math.acos\", \"math.asin\", \"math.atan\", \"math.atan2\", \"math.ceil\", \"math.cos\", \"math.cosh\", \"math.deg\", \"math.exp\", \"math.floor\", \"math.fmod\", \"math.frexp\", \"math.huge\", \"math.ldexp\", \"math.log\", \"math.log10\", \"math.max\", \"math.min\", \"math.modf\", \"math.pi\", \"math.pow\", \"math.rad\", \"math.random\", \"math.randomseed\", \"math.sin\", \"math.sinh\", \"math.sqrt\", \"math.tan\", \"math.tanh\", \"os.clock\", \"os.date\", \"os.difftime\", \"os.execute\", \"os.exit\", \"os.getenv\", \"os.remove\", \"os.rename\", \"os.setlocale\", \"os.time\", \"os.tmpname\", \"package.cpath\", \"package.loaded\", \"package.loaders\", \"package.loadlib\", \"package.path\", \"package.preload\", \"package.seeall\", \"string.byte\", \"string.char\", \"string.dump\", \"string.find\", \"string.format\", \"string.gmatch\", \"string.gsub\", \"string.len\", \"string.lower\", \"string.match\", \"string.rep\", \"string.reverse\", \"string.sub\", \"string.upper\", \"table.concat\", \"table.insert\", \"table.maxn\", \"table.remove\", \"table.sort\"]);\nvar keywords = wordRE([\"and\", \"break\", \"elseif\", \"false\", \"nil\", \"not\", \"or\", \"return\", \"true\", \"function\", \"end\", \"if\", \"then\", \"else\", \"do\", \"while\", \"repeat\", \"until\", \"for\", \"in\", \"local\"]);\nvar indentTokens = wordRE([\"function\", \"if\", \"repeat\", \"do\", \"\\\\(\", \"{\"]);\nvar dedentTokens = wordRE([\"end\", \"until\", \"\\\\)\", \"}\"]);\nvar dedentPartial = prefixRE([\"end\", \"until\", \"\\\\)\", \"}\", \"else\", \"elseif\"]);\nfunction readBracket(stream) {\n  var level = 0;\n  while (stream.eat(\"=\")) ++level;\n  stream.eat(\"[\");\n  return level;\n}\nfunction normal(stream, state) {\n  var ch = stream.next();\n  if (ch == \"-\" && stream.eat(\"-\")) {\n    if (stream.eat(\"[\") && stream.eat(\"[\")) return (state.cur = bracketed(readBracket(stream), \"comment\"))(stream, state);\n    stream.skipToEnd();\n    return \"comment\";\n  }\n  if (ch == \"\\\"\" || ch == \"'\") return (state.cur = string(ch))(stream, state);\n  if (ch == \"[\" && /[\\[=]/.test(stream.peek())) return (state.cur = bracketed(readBracket(stream), \"string\"))(stream, state);\n  if (/\\d/.test(ch)) {\n    stream.eatWhile(/[\\w.%]/);\n    return \"number\";\n  }\n  if (/[\\w_]/.test(ch)) {\n    stream.eatWhile(/[\\w\\\\\\-_.]/);\n    return \"variable\";\n  }\n  return null;\n}\nfunction bracketed(level, style) {\n  return function (stream, state) {\n    var curlev = null,\n      ch;\n    while ((ch = stream.next()) != null) {\n      if (curlev == null) {\n        if (ch == \"]\") curlev = 0;\n      } else if (ch == \"=\") ++curlev;else if (ch == \"]\" && curlev == level) {\n        state.cur = normal;\n        break;\n      } else curlev = null;\n    }\n    return style;\n  };\n}\nfunction string(quote) {\n  return function (stream, state) {\n    var escaped = false,\n      ch;\n    while ((ch = stream.next()) != null) {\n      if (ch == quote && !escaped) break;\n      escaped = !escaped && ch == \"\\\\\";\n    }\n    if (!escaped) state.cur = normal;\n    return \"string\";\n  };\n}\nexport const lua = {\n  name: \"lua\",\n  startState: function () {\n    return {\n      basecol: 0,\n      indentDepth: 0,\n      cur: normal\n    };\n  },\n  token: function (stream, state) {\n    if (stream.eatSpace()) return null;\n    var style = state.cur(stream, state);\n    var word = stream.current();\n    if (style == \"variable\") {\n      if (keywords.test(word)) style = \"keyword\";else if (builtins.test(word)) style = \"builtin\";\n    }\n    if (style != \"comment\" && style != \"string\") {\n      if (indentTokens.test(word)) ++state.indentDepth;else if (dedentTokens.test(word)) --state.indentDepth;\n    }\n    return style;\n  },\n  indent: function (state, textAfter, cx) {\n    var closing = dedentPartial.test(textAfter);\n    return state.basecol + cx.unit * (state.indentDepth - (closing ? 1 : 0));\n  },\n  languageData: {\n    indentOnInput: /^\\s*(?:end|until|else|\\)|\\})$/,\n    commentTokens: {\n      line: \"--\",\n      block: {\n        open: \"--[[\",\n        close: \"]]--\"\n      }\n    }\n  }\n};"],
  "mappings": "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",
  "names": []
}
