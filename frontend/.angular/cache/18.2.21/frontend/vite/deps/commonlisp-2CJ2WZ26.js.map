{
  "version": 3,
  "sources": ["../../../../../../node_modules/@codemirror/legacy-modes/mode/commonlisp.js"],
  "sourcesContent": ["var specialForm = /^(block|let*|return-from|catch|load-time-value|setq|eval-when|locally|symbol-macrolet|flet|macrolet|tagbody|function|multiple-value-call|the|go|multiple-value-prog1|throw|if|progn|unwind-protect|labels|progv|let|quote)$/;\nvar assumeBody = /^with|^def|^do|^prog|case$|^cond$|bind$|when$|unless$/;\nvar numLiteral = /^(?:[+\\-]?(?:\\d+|\\d*\\.\\d+)(?:[efd][+\\-]?\\d+)?|[+\\-]?\\d+(?:\\/[+\\-]?\\d+)?|#b[+\\-]?[01]+|#o[+\\-]?[0-7]+|#x[+\\-]?[\\da-f]+)/;\nvar symbol = /[^\\s'`,@()\\[\\]\";]/;\nvar type;\nfunction readSym(stream) {\n  var ch;\n  while (ch = stream.next()) {\n    if (ch == \"\\\\\") stream.next();else if (!symbol.test(ch)) {\n      stream.backUp(1);\n      break;\n    }\n  }\n  return stream.current();\n}\nfunction base(stream, state) {\n  if (stream.eatSpace()) {\n    type = \"ws\";\n    return null;\n  }\n  if (stream.match(numLiteral)) return \"number\";\n  var ch = stream.next();\n  if (ch == \"\\\\\") ch = stream.next();\n  if (ch == '\"') return (state.tokenize = inString)(stream, state);else if (ch == \"(\") {\n    type = \"open\";\n    return \"bracket\";\n  } else if (ch == \")\") {\n    type = \"close\";\n    return \"bracket\";\n  } else if (ch == \";\") {\n    stream.skipToEnd();\n    type = \"ws\";\n    return \"comment\";\n  } else if (/['`,@]/.test(ch)) return null;else if (ch == \"|\") {\n    if (stream.skipTo(\"|\")) {\n      stream.next();\n      return \"variableName\";\n    } else {\n      stream.skipToEnd();\n      return \"error\";\n    }\n  } else if (ch == \"#\") {\n    var ch = stream.next();\n    if (ch == \"(\") {\n      type = \"open\";\n      return \"bracket\";\n    } else if (/[+\\-=\\.']/.test(ch)) return null;else if (/\\d/.test(ch) && stream.match(/^\\d*#/)) return null;else if (ch == \"|\") return (state.tokenize = inComment)(stream, state);else if (ch == \":\") {\n      readSym(stream);\n      return \"meta\";\n    } else if (ch == \"\\\\\") {\n      stream.next();\n      readSym(stream);\n      return \"string.special\";\n    } else return \"error\";\n  } else {\n    var name = readSym(stream);\n    if (name == \".\") return null;\n    type = \"symbol\";\n    if (name == \"nil\" || name == \"t\" || name.charAt(0) == \":\") return \"atom\";\n    if (state.lastType == \"open\" && (specialForm.test(name) || assumeBody.test(name))) return \"keyword\";\n    if (name.charAt(0) == \"&\") return \"variableName.special\";\n    return \"variableName\";\n  }\n}\nfunction inString(stream, state) {\n  var escaped = false,\n    next;\n  while (next = stream.next()) {\n    if (next == '\"' && !escaped) {\n      state.tokenize = base;\n      break;\n    }\n    escaped = !escaped && next == \"\\\\\";\n  }\n  return \"string\";\n}\nfunction inComment(stream, state) {\n  var next, last;\n  while (next = stream.next()) {\n    if (next == \"#\" && last == \"|\") {\n      state.tokenize = base;\n      break;\n    }\n    last = next;\n  }\n  type = \"ws\";\n  return \"comment\";\n}\nexport const commonLisp = {\n  name: \"commonlisp\",\n  startState: function () {\n    return {\n      ctx: {\n        prev: null,\n        start: 0,\n        indentTo: 0\n      },\n      lastType: null,\n      tokenize: base\n    };\n  },\n  token: function (stream, state) {\n    if (stream.sol() && typeof state.ctx.indentTo != \"number\") state.ctx.indentTo = state.ctx.start + 1;\n    type = null;\n    var style = state.tokenize(stream, state);\n    if (type != \"ws\") {\n      if (state.ctx.indentTo == null) {\n        if (type == \"symbol\" && assumeBody.test(stream.current())) state.ctx.indentTo = state.ctx.start + stream.indentUnit;else state.ctx.indentTo = \"next\";\n      } else if (state.ctx.indentTo == \"next\") {\n        state.ctx.indentTo = stream.column();\n      }\n      state.lastType = type;\n    }\n    if (type == \"open\") state.ctx = {\n      prev: state.ctx,\n      start: stream.column(),\n      indentTo: null\n    };else if (type == \"close\") state.ctx = state.ctx.prev || state.ctx;\n    return style;\n  },\n  indent: function (state) {\n    var i = state.ctx.indentTo;\n    return typeof i == \"number\" ? i : state.ctx.start + 1;\n  },\n  languageData: {\n    commentTokens: {\n      line: \";;\",\n      block: {\n        open: \"#|\",\n        close: \"|#\"\n      }\n    },\n    closeBrackets: {\n      brackets: [\"(\", \"[\", \"{\", '\"']\n    }\n  }\n};"],
  "mappings": "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",
  "names": []
}
